## 1. bigEvent项目文档

### 1.1 准备工作

- 在github上新建一个远程仓库并克隆到本地
- 将静态页面放入到仓库目录下
- 将项目的功能介绍都书写到README.md中

## 2 后台功能

> - 将所有的接口地址统一保存在config.js文件中，方便后期维护。
> - 将每个页面中进行接口调用的功能统一保存到某个文件中
>   - 用户相关功能：user.js
>     - 设置user对象，将每个请求的操作设置为user的方法，在页面中使用时调用方法即可.
>       - 好处：页面的具体操作和接口的操作分开，方便维护。
>   - 文章相关功能：article.js

### 2.1 后台登录页面功能制作

- 结构的修改：
    - 登录按钮是submit功能。
  - 希望使用ajax，应改为普通按钮。或者使用事件对象阻止元素的默认行为
  - 如a的跳转和submit的跳转
  - e.preventDefault()

- 功能简介：

  1. 点击登录按钮后，获取用户名和密码

  2. 检测获取的内容是否为空

  3. 如果不为空，通过接口发送给服务器端检测

  4. 根据检测结果进行对应处理

     - 成功： 跳转到首页
     - 失败： 进行相关提示

  5.  美化弹框

     - 通过bootstrap提供的模态框功能进行弹框效果的美化，记住要引入css样式和js文件

     - 从文档中找到需要的模态框结构，复制到页面中
     - 替换掉alert操作，使用modal()激活模态框
       - 传入‘show’，显示‘hide’隐藏
       - 再修改提示的内容即可

- 实现功能

  1. 给登录按钮添加点击事件
  2. 获取用户名和密码并进行检测
  3. 如果不为空则发送ajax请求
  4. 改进接口地址，创建一个tool文件夹放配置文件,例如将接口地址统一保存在config.js中。

## 2.2 后台首页功能

### 2.2.1 后台首页退出登录功能

- 点击退出按钮

- 通过模态框提示用户，询问是否确认退出

  - 确认后，请求服务端对应的接口
    - 接口响应200，跳转到登录页即可

- 实现功能

  退出功能：

  ```
  1. 给退出按钮添加点击事件
  
  1.1 设置模态框显示
  
  2. 确认退出按钮的点击事件
  
  2.1 发送请求，进行退出操作
  
  2.2 退出完成，跳转到login.html
  ```

### 2.2.2 后台用户基本信息展示功能

iframe标签的使用

- iframe标签的作用是在一个页面中嵌套一个子页面
- 左侧标签点击后，自动设置右侧iframe的src为对应的页面地址，从而实现页面切换

页面加载中请求用户的基本信息

左侧菜单的头像和用户名

右侧顶部的用户头像

## 3 用户信息修改功能

### 功能简介：

1. 页面加载中请求用户的详细信息

2. 将数据展示到对应的元素中(用户头像在img中展示)

   - 为了方便进行元素获取和数据设置，可以将input的id设置为与res.data的属性名相同的值
     - img需要设置src，user_pic属性需要进行单独操作
     - 为了后续使用formData可以正常提交数据，顺便给每个表单元素设置name属性

3. 点击修改按钮

   - 将修改按钮的type类型设置为button
   - 检测填写内容是否完整(使用模态框)
   - 发送请求
   - 更新
   - 将数据通过formData形式发送给服务端保存
   - 保存完毕更新

4. 判断数据是否发送成功，成功就跳转到登录界面

5. 修改了用户信息，让用户重新登录，跳转到login.html界面，应当让外面的父页面进行跳转
   `window.parent.location.href`

6. 设置一个本地的图片预览,保存临时地址：

   `URL.createObjectURL(this.files[0])`

7. 将图片的src属性值替换成临时地址

## 4 文章部分的功能

- 功能简介

  - 分类信息的获取和展示

    - 使用字符串拼接方式进行结构的创建操作

      - 请求服务端数据
      - 拼接字符串
      - 生成到页面中显示
    - 使用一些js库(模板引擎工具)进行结构的拼接

      - 下载并引入js库

      - 设置模板

        - 使用script标签
          - 设置type类型不为js类型后，不会将该标签作为js执行
          - type推荐设置方式：text/html    text/template

      - 将数据传入到模板中

        - 调用模板引擎提供的  template() 方法
          - 参数1： 模板的id名，字符串形式
          - 参数2： 要传入模板的数据
          - 返回值： 模板引擎将数据和结构结合的结构字符串

      - 模板引擎将数据和结构结合在一起，返回给我们结构字符串

        - 模板语法标记：{{}}

        - 语法使用：

          - {{$data}} 代表给template()传入的参数2，这里参数2直接写res，可以直接用里面的data属性

          - 遍历操作:

            ```javascript
            {{each data v i}}
            
            {{/each}}
            ```

          - data代表要遍历的数据，可以设置value和index，设置里就用设置的{{v}}和{{i}}，不然就用`{{$value}}`和`{{$index}}`

      - 将结构字符串放到页面中展示即可

  - 分类信息的新增功能

    - 结构处理：为了让新增的模板库的关闭按钮可以使用，设置自定义属性`data-dismiss='modal'`
    - 点击新增按钮，检测数据是否填写完毕，如果填写完毕发送请求
    - 新增成功，更新页面即可

  - 分类信息的编辑功能

    - 在模态框中设置一个提交编辑按钮,默认隐藏
    - 点击表格中的编辑时，将提交编辑按钮显示，新增按钮隐藏
    - 点击新增分类按钮时，将新增按钮显示，将提交编辑按钮隐藏

  - 分类信息的删除功能

 

 

 

 